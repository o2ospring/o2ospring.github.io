<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>WSL 之 unix 模拟环境 - o2ospring</title><meta name="Description" content="简单介绍 WSL 的安装及使用"><meta property="og:title" content="WSL 之 unix 模拟环境" />
<meta property="og:description" content="简单介绍 WSL 的安装及使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://o2ospring.github.io/20251109/" /><meta property="og:image" content="https://o2ospring.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-11-09T10:00:00+08:00" />
<meta property="article:modified_time" content="2025-11-17T09:02:00+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://o2ospring.github.io/logo.png"/>

<meta name="twitter:title" content="WSL 之 unix 模拟环境"/>
<meta name="twitter:description" content="简单介绍 WSL 的安装及使用"/>
<meta name="application-name" content="o2ospring">
<meta name="apple-mobile-web-app-title" content="o2ospring"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://o2ospring.github.io/20251109/" /><link rel="prev" href="https://o2ospring.github.io/20251108/" /><link rel="next" href="https://o2ospring.github.io/20251117/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "WSL 之 unix 模拟环境",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/o2ospring.github.io\/20251109\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/o2ospring.github.io\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "WSL, linux 工具\/应用","wordcount":  7645 ,
        "url": "https:\/\/o2ospring.github.io\/20251109\/","datePublished": "2025-11-09T10:00:00+08:00","dateModified": "2025-11-17T09:02:00+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/o2ospring.github.io\/images\/avatar.png",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "o2ospring"
            },"description": "简单介绍 WSL 的安装及使用"
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="o2ospring"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>o2ospring&#39;s blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/o2ospring" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="o2ospring"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>o2ospring&#39;s blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/o2ospring" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">WSL 之 unix 模拟环境</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/o2ospring" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>o2ospring</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/software/"><i class="far fa-folder fa-fw"></i>software</a>&nbsp;<a href="/categories/linux/"><i class="far fa-folder fa-fw"></i>linux</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2025-11-09">2025-11-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 7645 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 16 分钟&nbsp;<span id="/20251109/" class="leancloud_visitors" data-flag-title="WSL 之 unix 模拟环境">
                        <i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#前言">前言</a></li>
        <li><a href="#wsl-简介">WSL 简介</a></li>
        <li><a href="#wsl-安装">WSL 安装</a></li>
        <li><a href="#wsl-使用">WSL 使用</a></li>
        <li><a href="#wsl-比较">WSL 比较</a>
          <ul>
            <li><a href="#一核心定位与技术原理"><strong>一、核心定位与技术原理</strong></a></li>
            <li><a href="#二核心功能对比"><strong>二、核心功能对比</strong></a></li>
            <li><a href="#三适用场景"><strong>三、适用场景</strong></a>
              <ul>
                <li><a href="#选择-unxutils-的情况"><strong>选择 UnxUtils 的情况</strong></a></li>
                <li><a href="#选择-cygwin-的情况"><strong>选择 Cygwin 的情况</strong></a></li>
                <li><a href="#选择-wsl-的情况"><strong>选择 WSL 的情况</strong></a></li>
              </ul>
            </li>
            <li><a href="#四总结"><strong>四、总结</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><style>  
    /* 一键按钮悬浮左下角样式 */  
    #toggleAll { font-size: 10px; position: fixed; left: 15px; bottom: 15px; z-index: 9999; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transition: background 0.3s ease; }  
    #toggleAll:hover { background: #eee; }  
</style>  
<p><button id="toggleAll">一键展开全部</button></p>
<h3 id="前言">前言</h3>
<blockquote>
<p><a href="https://github.com/microsoft/WSL/releases" target="_blank" rel="noopener noreffer"><strong>Windows Subsystem for Linux (WSL)</strong></a> 是微软开发的 Windows 系统组件，能让用户在 Windows 上直接运行完整的 Linux 发行版，无需虚拟机或双系统。（官方帮助文档：<a href="https://learn.microsoft.com/zh-cn/windows/wsl/" target="_blank" rel="noopener noreffer">WSL 文档</a>）</p>
</blockquote>
<h3 id="wsl-简介">WSL 简介</h3>
<details class="collapsible" close=""><summary><strong>1、核心特性</strong></summary>  
<ul>
<li><strong>原生集成</strong>：与 Windows 系统深度融合，可直接访问 Windows 文件系统（如 C 盘、D 盘），也支持 Linux 与 Windows 程序相互调用。</li>
<li><strong>轻量高效</strong>：无需单独分配硬件资源，启动速度快，资源占用远低于传统虚拟机。</li>
<li><strong>完整 Linux 体验</strong>：支持主流 Linux 发行版（如 Ubuntu、Debian、Fedora），包含完整的 Linux 命令行工具、包管理器和软件生态。</li>
<li><strong>双系统互通</strong>：可在 WSL 中使用 Windows 的环境变量，也能在 Windows 命令行（CMD/PowerShell）中调用 Linux 命令。</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>2、版本差异</strong></summary>  
<ul>
<li>WSL 1 与 2 差异
<table>
<thead>
<tr>
<th>版本</th>
<th>核心特点</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>WSL 1</td>
<td>基于翻译层实现，启动更快</td>
<td>简单命令行操作、轻量开发</td>
</tr>
<tr>
<td>WSL 2</td>
<td>基于 Hyper-V 虚拟机技术，支持完整 Linux 内核</td>
<td>复杂开发环境、容器（Docker）、图形界面应用</td>
</tr>
</tbody>
</table>
</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>3、适用场景</strong></summary>  
<ul>
<li>开发者在 Windows 上搭建 Linux 开发环境，无需切换系统。</li>
<li>运行 Linux 专属工具、脚本或服务（如 Shell 脚本、Node.js、Python 后端）。</li>
<li>学习 Linux 系统操作，无需单独安装 Linux 系统。</li>
<li>适配跨平台项目，确保开发环境与生产环境（Linux 服务器）一致。</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>4、注意事项</strong></summary>  
<ul>
<li>硬件要求：WSL 2 需开启 CPU 虚拟化功能（需在 BIOS 中设置），部分对硬件要求极高的 Linux 应用（如 3D 渲染）可能兼容性有限。</li>
<li>系统要求：WSL 2 要求  Windows 10 版本 2004 及更高版本（内部版本 19041 及更高版本）。</li>
</ul>
</details>  
<h3 id="wsl-安装">WSL 安装</h3>
<details class="collapsible" close=""><summary><strong>1、开启电脑虚拟化</strong></summary>  
<p>1.1、重启电脑，进入 BIOS/UEFI。<br>
1.2、开机时按特定键（通常是 F2、Del、F12 或 Esc，具体取决于主板型号）。<br>
1.3、找到虚拟化设置（通常在 Advanced 或 CPU Configuration 中）：</p>
<ul>
<li>Intel CPU：启用 Intel Virtualization Technology（VT-x）；</li>
<li>AMD CPU：启用 SVM Mode（等同于 AMD-V）。</li>
</ul>
<p>1.4、保存设置并退出（通常按 F10）。<br>
1.5、重启电脑进入系统确认，右键点击任务栏/任务管理器：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_001.jpg"
        data-srcset="../img/20251109_001.jpg, ../img/20251109_001.jpg 1.5x, ../img/20251109_001.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_001.jpg"
        title="确认已开启虚拟化" /></li>
</ul>
<p>1.6、验证 Hypervisor 是否启动</p>
<ul>
<li>
<p>以管理员身份运行 Windows PowerShell：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">bcdedit /enum <span class="p">|</span> findstr hypervisorlaunchtype  <span class="c1">#验证 Hypervisor 是否启动  </span>
                              <span class="c1">#如果显示 Off，则执行下面指令  </span>
hypervisorlaunchtype Auto     <span class="c1">#启动 Hypervisor，可使用上行指令查看是否启动成功  </span>
                              <span class="c1">#重启电脑，此功能才能生效!!!  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>2、开启子系统功能</strong></summary>  
<p>2.1、通过图形界面开启子系统功能：</p>
<ul>
<li>“开始/Windows 系统/控制面板/程序”<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_002.jpg"
        data-srcset="../img/20251109_002.jpg, ../img/20251109_002.jpg 1.5x, ../img/20251109_002.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_002.jpg"
        title="开启子系统功能" /></li>
</ul>
<p>2.2、使用命令在线更新 WSL：</p>
<ul>
<li>
<p>打开命令窗口 “开始/Windows PowerShell/Windows PowerShell” 右键点击选择 “以管理员身份运行” 运行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">wsl --update  <span class="c1">#更新 WSL 内核  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>2.3、WSL 有 WSL1 和 WSL2，推荐使用 WSL2（性能更好）</p>
<ul>
<li>
<p>以管理员身份运行 Windows PowerShell，设置使用 WSL2：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">wsl --set-default-version <span class="m">2</span>  <span class="c1">#设置默认 WSL 版本为 2  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<details class="collapsible" close=""><summary>2.4、<strong>其它操作方法</strong></summary>  
<p>● 通过命令窗口开启子系统功能：</p>
<ul>
<li>
<p>以管理员身份运行 Windows PowerShell，开启子系统功能：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart  
                  <span class="c1">#启用 WSL 功能（不指定版本，默认安装 WSL2）  </span>
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart  
                  <span class="c1">#启用虚拟机平台（WSL2 必需）  </span>
Restart-Computer  <span class="c1">#重启计算机（必须）  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>● 使用离线安装包更新 WSL：</p>
<ul>
<li>直接打开 <a href="https://github.com/microsoft/WSL/releases" target="_blank" rel="noopener noreffer"><strong>WSL</strong></a> 微软官方 GitHub 仓库下载最新版本，例如：<a href="https://release-assets.githubusercontent.com/github-production-release-asset/55626935/6ad857d7-4634-43ec-ba9e-8dc47cd06f06?sp=r&amp;sv=2018-11-09&amp;sr=b&amp;spr=https&amp;se=2025-11-09T03%3A42%3A27Z&amp;rscd=attachment%3B&#43;filename%3Dwsl.2.6.1.0.x64.msi&amp;rsct=application%2Foctet-stream&amp;skoid=96c2d410-5711-43a1-aedd-ab1947aa7ab0&amp;sktid=398a6654-997b-47e9-b12b-9515b896b4de&amp;skt=2025-11-09T02%3A41%3A46Z&amp;ske=2025-11-09T03%3A42%3A27Z&amp;sks=b&amp;skv=2018-11-09&amp;sig=5eB0DYxmvBxlf1C03vfZ94CHnaNdZyBrKiwpsHPWhE4%3D&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmVsZWFzZS1hc3NldHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwia2V5Ijoia2V5MSIsImV4cCI6MTc2MjY2MDg2OSwibmJmIjoxNzYyNjU3MjY5LCJwYXRoIjoicmVsZWFzZWFzc2V0cHJvZHVjdGlvbi5ibG9iLmNvcmUud2luZG93cy5uZXQifQ.vko_6pqUtagifM2q5ASqx0ogTVXMe5cl7XHnjdLPAvc&amp;response-content-disposition=attachment%3B%20filename%3Dwsl.2.6.1.0.x64.msi&amp;response-content-type=application%2Foctet-stream" target="_blank" rel="noopener noreffer">wsl.2.6.1.0.x64.msi</a>，下载完后直接点击文件安装即可。</li>
</ul>
</details>  
</details>  
<details class="collapsible" close=""><summary><strong>3、在线安装子系统</strong></summary>  
<p>3.1、通过在线方式安装子系统：</p>
<ul>
<li>
<p>以管理员身份运行 Windows PowerShell，在线安装指定发行版：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">wsl --list --online           <span class="c1">#列出可安装的 Linux 发行版（例如：根据显示安装 Ubuntu-22.04）  </span>
wsl --install -d Ubuntu-22.04 <span class="c1">#在线安装指定发行版：Ubuntu-22.04（默认安装到C盘，不支持指定路径）  </span>
                              <span class="c1">#而 wsl --install 会默认安装 Ubuntu 版本  </span>
</code></pre></td></tr></table>
</div>
</div><p>PS：一般情况下 C 盘空间比较紧张，建议使用【离线导入】方法安装到 D 盘！譬如：先在线安装子系统，导出离线包；再卸载此子系统，导入离线包。</p>
</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>4、离线导入子系统</strong></summary>  
<p>4.1、离线包来源：</p>
<ul>
<li>
<p>从 <a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#downloading-distributions" target="_blank" rel="noopener noreffer">微软文档</a> 下载官方离线包（如 <a href="https://wslstorestorage.blob.core.windows.net/wslblob/Ubuntu2204-221101.AppxBundle" target="_blank" rel="noopener noreffer">Ubuntu2204-221101.AppxBundle</a>），但不要双击它，否则被强行安装到C盘。使用 7-Zip 或 WinRAR 将 Ubuntu2204-221101.AppxBundle/Ubuntu_2204.1.7.0_x64.appx/rootfs.tar.gz （tar 格式文件）提取出来（注：因为在第二级文件，所以需要手动进行两次解压）</p>
</li>
<li>
<p>从现有子系统中导出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#------【方式一】导出 .tar 镜像------  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl --list --verbose          <span class="c1">#查看已安装的发行版（例如：根据显示导出 Ubuntu-22.04）  </span>
wsl --export Ubuntu-22.04 C:<span class="se">\t</span>emp<span class="se">\U</span>buntu-22.04-1.tar  
                              <span class="c1">#导出已安装的 Linux 发行版：Ubuntu-22.04 【备注：请事先创建 C:\temp 文件夹】  </span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#------【方式二】导出.vhdx 文件------  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl --list --verbose          <span class="c1">#查看已安装的发行版（例如：根据显示导出 Ubuntu-22.04）  </span>
wsl --export Ubuntu-22.04 D:<span class="se">\W</span>SL<span class="se">\U</span>buntu-22.04-2<span class="se">\U</span>buntu-22.04-2.vhdx --vhd  
                              <span class="c1">#导出已安装的 Linux 发行版：Ubuntu-22.04（备注：请事先创建 D:\WSL\Ubuntu-22.04-2 文件夹）  </span>
                              <span class="c1">#或直接复制虚拟磁盘文件，路径通常为 %USERPROFILE%\AppData\Local\Packages\&lt;发行版Package&gt;\LocalState\ext4.vhdx  </span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在已有 Docker 镜像导出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#------【方式三】导出 .tar 镜像------  </span>
docker ps -a                             <span class="c1">#读出容器 ID，如：0301d8f4bc6e  </span>
ocker <span class="nb">export</span> 0301d8f4bc6e &gt; centos8.tar  <span class="c1">#导出 Docker 镜像  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>4.2、通过离线方式导入子系统：</p>
<ul>
<li>
<p>从离线包导入子系统：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#------【方式一】从 .tar 镜像导入------  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl --import Ubuntu-22.04-1 D:<span class="se">\W</span>SL<span class="se">\U</span>buntu-22.04-1 C:<span class="se">\t</span>emp<span class="se">\U</span>buntu-22.04-1.tar --version <span class="m">2</span>  <span class="c1">#【备注：请事先创建 D:\WSL\Ubuntu-22.04-1 文件夹】  </span>
                              <span class="c1">#从离线包导入 Linux 发行版：Ubuntu-22.04（实际命名为 Ubuntu-22.04-1）（--version 2：指定使用 WSL2（推荐）如果只有 WSL2 可省略）（会在目标目录生成一个单一的 .vhdx 虚拟磁盘文件）  </span>
wsl --list --verbose          <span class="c1">#查看已安装的发行版（此时可看到导入的 Ubuntu-22.04-1）  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl -d Ubuntu-22.04-1         <span class="c1">#启动子系统：Ubuntu-22.04（实际命名为 Ubuntu-22.04-1）  </span>

<span class="c1"># 为 Ubuntu-22.04 创建用户  </span>
adduser myname                <span class="c1">#创建一个新用户（用户名为 myname）（如果用户不存在，则执行时会提示设置密码（输入时不显示，输完按回车），还会询问用户的全名、房间号等信息（可直接按回车跳过））  </span>
usermod -aG sudo myname       <span class="c1">#将新用户添加到 sudo 用户组（用户名为 myname）（-a：表示 “追加”，-G：指定加入 sudo 组）  </span>
<span class="nb">echo</span> -e <span class="s2">&#34;[user]\ndefault=myname&#34;</span> <span class="p">|</span> sudo tee -a /etc/wsl.conf <span class="c1">#设置默认登录用户（默认登录 myname 用户，而非默认的 root 用户）（/etc/wsl.conf 是 WSL 核心配置文件）（-a表示追加内容，| 表示通过管道写入，tee 表将内容输出到文件并同时显示在终端）  </span>
vi /etc/wsl.conf              <span class="c1">#使用 vi 查看配置文件是否正确（按 Esc 再输入 :q! 退出）  </span>
<span class="nb">exit</span>                          <span class="c1">#退出子系统（关闭子系统）  </span>

wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl -d Ubuntu-22.04-1         <span class="c1">#启动子系统：Ubuntu-22.04（实际命名为 Ubuntu-22.04-1）  </span>

</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#------【方式二】从.vhdx 文件导入------  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl --import-in-place Ubuntu-22.04-2 D:<span class="se">\W</span>SL<span class="se">\U</span>buntu-22.04-2<span class="se">\U</span>buntu-22.04-2.vhdx  <span class="c1">###注意：命令是 --import-in-place  </span>
                              <span class="c1">#从离线包导入 Linux 发行版：Ubuntu-22.04（实际命名为 Ubuntu-22.04-2）（一旦导入成功，该子系统会被 WSL 永久记录（除非手动卸载））（.vhdx 是虚拟磁盘文件，是完整的 WSL 根文件系统镜像）  </span>
wsl --list --verbose          <span class="c1">#查看已安装的发行版（此时可看到导入的 Ubuntu-22.04-2）  </span>
wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl -d Ubuntu-22.04-2         <span class="c1">#启动子系统：Ubuntu-22.04（实际命名为 Ubuntu-22.04-2）  </span>

<span class="c1"># 为 Ubuntu-22.04 创建用户  </span>
adduser myname                <span class="c1">#创建一个新用户（用户名为 myname）（如果用户不存在，则执行时会提示设置密码（输入时不显示，输完按回车），还会询问用户的全名、房间号等信息（可直接按回车跳过））  </span>
usermod -aG sudo myname       <span class="c1">#将新用户添加到 sudo 用户组（用户名为 myname）（-a：表示 “追加”，-G：指定加入 sudo 组）  </span>
<span class="nb">echo</span> -e <span class="s2">&#34;[user]\ndefault=myname&#34;</span> <span class="p">|</span> sudo tee -a /etc/wsl.conf <span class="c1">#设置默认登录用户（默认登录 myname 用户，而非默认的 root 用户）（/etc/wsl.conf 是 WSL 核心配置文件）（-a表示追加内容，| 表示通过管道写入，tee 表将内容输出到文件并同时显示在终端）  </span>
vi /etc/wsl.conf              <span class="c1">#使用 vi 查看配置文件是否正确（按 Esc 再输入 :q! 退出）  </span>
<span class="nb">exit</span>                          <span class="c1">#退出子系统（关闭子系统）  </span>

wsl --shutdown                <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）  </span>
wsl -d Ubuntu-22.04-2         <span class="c1">#启动子系统：Ubuntu-22.04（实际命名为 Ubuntu-22.04-2）  </span>

</code></pre></td></tr></table>
</div>
</div><p>PS：推荐使用【方式二】从.vhdx 导入！</p>
</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>5、完全卸载子系统</strong></summary>  
<p>5.1、直接(完全)卸载子系统：</p>
<ul>
<li>
<p>以管理员身份运行 Windows PowerShell，直接卸载指定发行版：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">wsl --shutdown                  <span class="c1">#强制关闭所有子系统（避免一些子系统干扰）（wsl --terminate &lt;发行版名称&gt; 命令可关闭指定子系统）  </span>
wsl --list --verbose            <span class="c1">#查看已安装的发行版（此时看到将要卸载的 Ubuntu-22.04-1）  </span>
wsl --unregister Ubuntu-22.04-1 <span class="c1">#卸载子系统（无论子系统安装在何盘，子系统及其所有数据将被完全删除，必须谨慎操作!!!!!!）  </span>
wsl --list --verbose            <span class="c1">#查看已安装的发行版（此时就看不到子系统 Ubuntu-22.04-1）  </span>
</code></pre></td></tr></table>
</div>
</div><p>PS：关于卸载子系统操作，无论子系统安装在何盘，子系统及其所有数据将被完全删除，<strong>必须谨慎操作</strong>!!!!!!</p>
</li>
</ul>
</details>  
<h3 id="wsl-使用">WSL 使用</h3>
<details class="collapsible" close=""><summary><strong>1、子系统启动</strong></summary>  
<p>1.1、子系统启动、设置及问题处理：</p>
<ul>
<li>命令窗口运行子系统（以管理员身份运行 Windows PowerShell）<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_003.jpg"
        data-srcset="../img/20251109_003.jpg, ../img/20251109_003.jpg 1.5x, ../img/20251109_003.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_003.jpg"
        title="命令窗口运行" /><br>
问题：提示拒绝访问，而无法启动子系统<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_004.jpg"
        data-srcset="../img/20251109_004.jpg, ../img/20251109_004.jpg 1.5x, ../img/20251109_004.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_004.jpg"
        title="提示拒绝访问" /><br>
解决：运行 <code>wsl --shutdown</code>（注意：本指令会关闭所有子系统）后再马上执行〖启动子系统〗命令！</li>
<li>直接在开始菜单打开子系统<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_005.jpg"
        data-srcset="../img/20251109_005.jpg, ../img/20251109_005.jpg 1.5x, ../img/20251109_005.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_005.jpg"
        title="打开子系统" /><br>
问题：打开子系统窗口闪退<br>
解决：在 Windows PowerShell 命令窗口执行<code>wsl -d Ubuntu-22.04</code>命令运行该子系统后，再在开始菜单打开子系统！</li>
<li>设置子系统复制粘贴快捷键<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_006.jpg"
        data-srcset="../img/20251109_006.jpg, ../img/20251109_006.jpg 1.5x, ../img/20251109_006.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_006.jpg"
        title="复制粘贴快捷键" /><br>
复制内容后，直接右键点击窗口输入区即可粘贴。</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>2、子系统应用</strong></summary>  
<p>2.1、在子系统里跨文件系统编译一个工程：</p>
<ul>
<li>
<p>应用案例：在子系统上编译【D盘】的 <a href="../20251025" rel="">ESP32</a> 工程</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">sudo apt-get update                   <span class="c1">#准备安装软件工具（更新包管理器）  </span>
sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0  
                                      <span class="c1">#先安装编译ESP32所需软件工具（具体过程这里不细述）  </span>
<span class="nb">cd</span> /mnt/d/esp32_xxx/projs/hello_world <span class="c1">#进入【用户工程】目录  </span>
<span class="nb">export</span> <span class="nv">IDF_GITHUB_ASSETS</span><span class="o">=</span><span class="s2">&#34;dl.espressif.cn/github_assets&#34;</span>  <span class="c1">#设置临时环境变量（注意事项：如下↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓）  </span>
../../esp-idf-v5.1/install.sh esp32,esp32c2               <span class="c1">#安装目标芯片工具（之前已安装，★这里不用重复操作★，否则可能要删除 $HOME/.espressif/ 和用户工程 build/，再执行上面两行命令）  </span>
. ../../esp-idf-v5.1/export.sh        <span class="c1">#通过脚本设置当前环境变量  </span>
idf.py fullclean                      <span class="c1">#清除之前编译所有文件  </span>
idf.py build                          <span class="c1">#编译工程并且输出固件  </span>

<span class="c1">#--------------------------------------------------  </span>
<span class="c1">#---如果用到 USB 烧录固件，先要进行连接 USB 操作---  </span>
<span class="c1">#---具体操作方法请看下一节【子系统 USB】内容介绍---  </span>
<span class="c1">#-------------------------------------------------------------------------------------------------------------------  </span>
<span class="c1">#   #sudo usermod -a -G dialout $USER #将用户添加到[dialout]组（配置串口写操作权限，★只需操作一次即可★）  </span>
<span class="c1">#   #reboot                           #修改后要重启电脑       （配置串口写操作权限，★只需操作一次即可★）  </span>
<span class="c1">#   idf.py -p /dev/ttyUSB0 flash      #通过串口下载固件（比如 Windows 下的 COM3 串口，Linux 下的 /dev/ttyUSB0 串口）  </span>
<span class="c1">#   idf.py -p /dev/ttyUSB0 monitor    #通过串口监控调试（Ctrl+] 组合键退出监视）  </span>
<span class="c1">#-------------------------------------------------------------------------------------------------------------------  </span>
</code></pre></td></tr></table>
</div>
</div><p>PS：个人更建议将工程放置于子系统中进行编译构建，代码编辑工作则在 Windows 环境下完成，兼顾编译稳定性与编辑便捷性。<br>
PS：对比 VMware 虚拟机与 WSL 的<strong>跨文件系统操作</strong>，<strong>VMware</strong> 相关系统或工具极易出现因<strong>文件所有权</strong>问题无法正常运行！</p>
</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>3、子系统 USB</strong></summary>  
<p>3.1、在子系统里使用 USB 设备：</p>
<ul>
<li>
<p>在 WSL2 中连接 USB 设备，需要安装【USB/IP】服务端和客户端。</p>
</li>
<li>
<p>首先打开两个命令窗口：以管理员身份打开 PowerShell，在另外窗口启动子系统（Ubuntu）。</p>
</li>
<li>
<p>安装 <a href="https://github.com/dorssel/usbipd-win/releases" target="_blank" rel="noopener noreffer">USB/IP</a> 服务端：在 Windows 上安装（如 <a href="https://github.com/dorssel/usbipd-win/releases/download/v5.3.0/usbipd-win_5.3.0_x64.msi" target="_blank" rel="noopener noreffer">usbipd-win_5.3.0_x64.msi</a>）。</p>
</li>
<li>
<p>安装 USB/IP 客户端：在 Ubuntu 上安装（如 usbip-utils 2.0），命令如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">sudo apt update                  <span class="c1">#准备安装软件工具（更新包管理器）  </span>
sudo apt install linux-tools-generic hwdata  <span class="c1">#安装 USB/IP 客户端（用于连接 Windows 的 USB 设备）  </span>
sudo update-alternatives --install /usr/local/bin/usbip usbip /usr/lib/linux-tools/*-generic/usbip <span class="m">20</span>  
                                 <span class="c1">#设置`usbip`命令的执行工具（创建工具链软链接）  </span>
<span class="c1">#usbip version                   #查看 usbip 版本（如 usbip-utils 2.0）  </span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>USB/IP 服务端上连接：在 Windows PowerShell 上操作</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">usbipd list                      <span class="c1">#列出 Win 的 USB 设备（找到的目标设备 BUSID，如 1-3）（如果没启动则 Start-Service usbipd 启动服务，命令 Get-Service usbipd 可查看服务运行状态）  </span>
usbipd <span class="nb">bind</span> --busid 1-3          <span class="c1">#将目标设备【绑定】到【WSL】（加载的目标设备 BUSID，如 1-3）（绑定后状态：1-3  10c4:ea60  Silicon Labs CP210x USB to UART Bridge (COM4)  Shared）  </span>
usbipd attach --wsl --busid 1-3  <span class="c1">#将目标设备【附加】到【子系统客户端】                       （附加后状态：1-3  10c4:ea60  Silicon Labs CP210x USB to UART Bridge (COM4)  Attached）  </span>

<span class="c1">#usbipd detach --busid 1-3       #将目标设备【分离】自【子系统客户端】                       （分离后状态：1-3  10c4:ea60  Silicon Labs CP210x USB to UART Bridge (COM4)  Shared）  </span>
<span class="c1">#usbipd unbind --busid 1-3       #将目标设备【解绑】自【WSL】（移除的目标设备 BUSID，如 1-3）（解绑后状态：1-3  10c4:ea60  Silicon Labs CP210x USB to UART Bridge (COM4)  Not shared）  </span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>USB/IP 客户端上查看：在子系统（Ubuntu）上操作</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">lsusb                            <span class="c1">#查看已连接的 USB 设备（可查看到 USB 一些信息）  </span>
ls -l /dev/tty*                  <span class="c1">#查看串口设备（若为开发板/传感器）（如串口设备通常显示为 /dev/ttyUSB0 或 /dev/ttyACM0）  </span>
                                 <span class="c1">#例如看到：crw-rw---- 1 root dialout 188, 0 Nov 14 20:42 /dev/ttyUSB0  </span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>4、Ubuntu 与 Windows 互访</strong></summary>  
<p>4.1、Ubuntu 与 Windows 互访及问题处理：</p>
<ul>
<li>Ubuntu 访问 Windows 文件(夹)，例如访问 C 盘，在 WSL 命令窗口直接运行<code>cd /mnt/c/</code>即可访问。</li>
<li>Windows 访问 Ubuntu 文件(夹)，在 Windows 系统文件浏览器地址栏输入<code>\\wsl$</code>，即可看到已安装的 Linux 发行版，双击进入其文件系统（如<code>\\wsl$\Ubuntu-22.04\home\你的用户名</code>）。在 Windows PowerShell 命令窗口也是这样访问，例如：<code>cd \\wsl$\Ubuntu-22.04</code> 进入目录访问即可。<br>
问题：提示无权限访问，并弹出提示窗口<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_007.jpg"
        data-srcset="../img/20251109_007.jpg, ../img/20251109_007.jpg 1.5x, ../img/20251109_007.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_007.jpg"
        title="提示无权限访问" /><br>
解决：在 Windows PowerShell 命令窗口中执行<code>wsl -d Ubuntu-22.04</code>命令启动该子系统后，Windows 即可恢复对 Ubuntu 文件(夹)的正常访问！<br>
PS：有一个开源工具 <a href="https://github.com/CzBiX/WSLHostPatcher/releases" target="_blank" rel="noopener noreffer">WSLHostPatcher</a> 可用于解决 Windows 访问 Ubuntu 文件(夹)问题，具体方法请自行测试！</li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>5、安装运行 Linux 图形应用</strong></summary>  
<p>5.1、安装运行 Linux 图形应用：</p>
<ul>
<li>对 Windows 及 WSL 版本要求：<br>
要求 WSL2 及 Windows 10 内部版本 19044+。</li>
<li>在 Windows 安装虚拟 GPU 驱动程序：<br>
根据电脑硬件选择下载安装即可：<a href="https://downloadcenter.intel.com/" target="_blank" rel="noopener noreffer">英特尔</a>、<a href="https://www.amd.com/support/download/drivers.html" target="_blank" rel="noopener noreffer">AMD</a>、<a href="https://www.nvidia.com/drivers" target="_blank" rel="noopener noreffer">NVIDIA</a>。</li>
<li>在 Ubuntu 安装图形应用，如 gedit：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">sudo apt update  
sudo apt install gedit  
</code></pre></td></tr></table>
</div>
</div><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="../img/20251109_008.jpg"
        data-srcset="../img/20251109_008.jpg, ../img/20251109_008.jpg 1.5x, ../img/20251109_008.jpg 2x"
        data-sizes="auto"
        alt="../img/20251109_008.jpg"
        title="安装运行 gedit" /></li>
</ul>
</details>  
<details class="collapsible" close=""><summary><strong>6、WSL 常用命令速查表</strong></summary>  
<p>6.1、WSL 常用命令速查表：</p>
<ul>
<li>
<p>常用命令及功能</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wsl --update</code></td>
<td>更新 WSL 内核</td>
<td>略</td>
</tr>
<tr>
<td><code>wsl --status</code></td>
<td>查看 WSL 状态信息</td>
<td>略</td>
</tr>
<tr>
<td><code>wsl --set-default-version 2</code></td>
<td>设置默认 WSL 版本为 2</td>
<td>略</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>wsl --list --verbose</code></td>
<td>查看已安装的[发行版][运行状态][WSL版本]</td>
<td><code>wsl -l -v</code>（简写）</td>
</tr>
<tr>
<td><code>wsl --set-version &lt;发行版名称&gt; 2</code></td>
<td>将指定发行版切换为 WSL 2</td>
<td><code>wsl --set-version Ubuntu-22.04 2</code></td>
</tr>
<tr>
<td><code>wsl --set-default &lt;发行版名称&gt;</code></td>
<td>修改默认 WSL 实例</td>
<td><code>wsl --set-default Ubuntu-22.04</code></td>
</tr>
<tr>
<td><code>wsl --shutdown</code></td>
<td>关闭所有 WSL 实例</td>
<td><code>wsl --shutdown</code></td>
</tr>
<tr>
<td><code>wsl --terminate &lt;发行版名称&gt;</code></td>
<td>终止指定发行版</td>
<td><code>wsl -t Ubuntu-22.04</code>（简写）</td>
</tr>
<tr>
<td><code>wsl --distribution &lt;发行版名称&gt;</code></td>
<td>启动指定发行版</td>
<td><code>wsl -d Ubuntu-22.04</code>（简写）</td>
</tr>
<tr>
<td><code>wsl --user &lt;用户名&gt;</code></td>
<td>以指定用户运行默认 WSL 实例</td>
<td><code>wsl --user root</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>wsl --list --online</code></td>
<td>列出可安装的 Linux 发行版（需要保持网络畅通）</td>
<td><code>wsl -l -o</code>（简写）</td>
</tr>
<tr>
<td><code>wsl --install -d &lt;发行版名称&gt;</code></td>
<td>安装指定发行版（需要保持网络畅通）</td>
<td><code>wsl --install -d Ubuntu-22.04</code></td>
</tr>
<tr>
<td><code>wsl --unregister &lt;发行版名称&gt;</code></td>
<td>卸载指定发行版【<strong>谨慎操作!</strong>】</td>
<td>略</td>
</tr>
</tbody>
</table>
<p>PS：“WSL 实例”、“发行版”、“子系统” 都是指某个子系统（linux）！</p>
</li>
</ul>
<!--  
5.7、若需运行 Linux 图形应用：  
  
* 若需运行 Linux 图形应用（如 Firefox），需安装图形服务器（如 VcXsrv），具体请自行测试：  
1. 从 [VcXsrv 官网](https://sourceforge.net/projects/vcxsrv/) 下载并安装；  
2. 启动 VcXsrv，选择“One large window”，Display number 设为 0，其他默认；  
3. 在 WSL 终端中执行：  
    ```bash  
    export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0.0  
    ```  
4. 之后即可运行图形应用（如 `sudo apt install firefox && firefox`）。  
-->  
</details>  
<h3 id="wsl-比较">WSL 比较</h3>
<details class="collapsible" close=""><summary><strong>点击展开内容</strong></summary>  
<p>Cygwin、UnxUtils 和 WSL（Windows Subsystem for Linux）都是为 Windows 提供类 Unix 工具或环境的方案，但三者的设计目标、技术原理和适用场景差异显著。以下从核心定位、功能特性、适用场景等维度进行对比：</p>
<h4 id="一核心定位与技术原理"><strong>一、核心定位与技术原理</strong></h4>
<table>
<thead>
<tr>
<th><strong>工具</strong></th>
<th><strong>核心定位</strong></th>
<th><strong>技术原理</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UnxUtils</strong></td>
<td>轻量的 <strong>Unix 命令移植工具集</strong>，仅提供常用 Unix 命令的 Windows 可执行文件。</td>
<td>将单个 Unix 命令（如 <code>grep</code>、<code>sed</code>）直接编译为 Windows 原生 <code>.exe</code>，无需依赖层，直接在 CMD/PowerShell 中运行。</td>
</tr>
<tr>
<td><strong>Cygwin</strong></td>
<td>提供 <strong>类 Unix 工具链与开发环境</strong>，支持编译和运行 Unix 程序。</td>
<td>通过 <code>cygwin1.dll</code> 模拟 Linux 系统调用，将 Unix 程序的系统调用翻译为 Windows 调用，需通过 Cygwin 工具链重新编译程序。</td>
</tr>
<tr>
<td><strong>WSL</strong></td>
<td>提供 <strong>完整的 Linux 发行版环境</strong>，支持原生 Linux 二进制程序和生态。</td>
<td>WSL 1 基于翻译层，WSL 2 基于轻量虚拟机和完整 Linux 内核，直接运行原生 Linux 程序（无需重新编译）。</td>
</tr>
</tbody>
</table>
<h4 id="二核心功能对比"><strong>二、核心功能对比</strong></h4>
<table>
<thead>
<tr>
<th><strong>功能维度</strong></th>
<th><strong>UnxUtils</strong></th>
<th><strong>Cygwin</strong></th>
<th><strong>WSL（以 WSL 2 为主）</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>工具覆盖范围</strong></td>
<td>仅包含基础命令（约 100+，如 <code>ls</code>、<code>awk</code>），无包管理。</td>
<td>包含完整工具链（<code>gcc</code>、<code>bash</code>、<code>ssh</code> 等），支持通过 <code>apt-cyg</code> 扩展。</td>
<td>支持所有 Linux 发行版工具（通过 <code>apt</code>/<code>yum</code> 安装），覆盖开发、服务、容器等全场景。</td>
</tr>
<tr>
<td><strong>兼容性</strong></td>
<td>仅支持命令的基础功能，部分参数与原生 Unix 有差异（如路径处理）。</td>
<td>需通过 Cygwin 编译的程序才能运行，部分复杂 Unix 程序可能不兼容。</td>
<td>直接运行原生 Linux 二进制文件（.deb/.rpm），兼容性接近真实 Linux 系统。</td>
</tr>
<tr>
<td><strong>性能</strong></td>
<td>极轻量，单命令启动快，无额外开销。</td>
<td>系统调用翻译有开销，IO 密集型任务（如文件操作）较慢。</td>
<td>本地文件系统性能接近原生 Linux，访问 Windows 文件稍慢，整体性能远高于前两者。</td>
</tr>
<tr>
<td><strong>文件系统互通</strong></td>
<td>直接使用 Windows 路径（如 <code>C:\</code>），无权限模拟。</td>
<td>映射 Windows 磁盘为 <code>/cygdrive/c</code>，模拟 Linux 权限（有限）。</td>
<td>挂载 Windows 磁盘到 <code>/mnt/c</code>，Windows 可通过 <code>\\wsl$</code> 访问 WSL 文件，<strong>权限管理完整</strong>。</td>
</tr>
<tr>
<td><strong>生态与扩展性</strong></td>
<td>无扩展性，仅固定命令集。</td>
<td>支持编译 Unix 程序，可搭建简单开发环境（如 C 语言）。</td>
<td>支持完整 Linux 生态：服务（<code>nginx</code>、<code>MySQL</code>）、容器（Docker）、图形应用（WSLg）等。</td>
</tr>
<tr>
<td><strong>系统要求</strong></td>
<td>无特殊要求，支持所有 Windows 版本。</td>
<td>支持 Windows 7+，无需虚拟化功能。</td>
<td>需 Windows 10 2004+ 或 11，WSL 2 需开启 CPU 虚拟化。</td>
</tr>
<tr>
<td><strong>资源占用</strong></td>
<td>极低（仅单个 <code>.exe</code> 文件）。</td>
<td>中等（依赖 <code>cygwin1.dll</code> 和工具集）。</td>
<td>较高（包含 Linux 内核），但远低于传统虚拟机。</td>
</tr>
</tbody>
</table>
<h4 id="三适用场景"><strong>三、适用场景</strong></h4>
<h5 id="选择-unxutils-的情况"><strong>选择 UnxUtils 的情况</strong></h5>
<ul>
<li><strong>临时轻量需求</strong>：仅需少数 Unix 命令（如 <code>grep</code> 文本搜索、<code>tar</code> 解压），无需复杂环境。</li>
<li><strong>快速集成</strong>：在 CMD/PowerShell 脚本中直接调用 Unix 命令，无需额外配置环境。</li>
<li><strong>旧系统或资源受限</strong>：适用于 Windows XP 等老旧系统，或对资源占用有严格限制的场景。</li>
</ul>
<h5 id="选择-cygwin-的情况"><strong>选择 Cygwin 的情况</strong></h5>
<ul>
<li><strong>跨平台开发</strong>：需要在 Windows 上编译针对 Unix/Linux 的程序（依赖 Cygwin 工具链）。</li>
<li><strong>中等复杂度工具链</strong>：需要 <code>bash</code> 脚本、<code>make</code> 编译、<code>ssh</code> 远程等功能，但无需完整 Linux 生态。</li>
<li><strong>不支持 WSL 的系统</strong>：如 Windows 7，或无法开启虚拟化的设备。</li>
</ul>
<h5 id="选择-wsl-的情况"><strong>选择 WSL 的情况</strong></h5>
<ul>
<li><strong>深度开发环境</strong>：需要完整 Linux 工具链（如 Python/Node.js 后端、<code>systemd</code> 服务）。</li>
<li><strong>容器与云原生</strong>：使用 Docker、Kubernetes 等工具，或开发云原生应用（与生产环境一致）。</li>
<li><strong>复杂脚本与服务</strong>：运行依赖 Linux 特有库的程序（如 <code>ffmpeg</code> 高级功能、科研软件）。</li>
<li><strong>图形应用</strong>：需要运行 Linux GUI 程序（如 VS Code 远程、GIMP 等）。</li>
</ul>
<h4 id="四总结"><strong>四、总结</strong></h4>
<table>
<thead>
<tr>
<th><strong>工具</strong></th>
<th>优势</th>
<th>劣势</th>
<th>一句话定位</th>
</tr>
</thead>
<tbody>
<tr>
<td>UnxUtils</td>
<td>极轻量、零配置、兼容性广</td>
<td>功能有限、无扩展性、命令兼容性一般</td>
<td>“Unix 命令的 Windows 便携版”</td>
</tr>
<tr>
<td>Cygwin</td>
<td>支持开发工具链、可编译 Unix 程序</td>
<td>性能一般、兼容性依赖编译、配置较繁琐</td>
<td>“类 Unix 开发模拟器”</td>
</tr>
<tr>
<td>WSL</td>
<td>原生 Linux 体验、完整生态、高性能</td>
<td>系统版本要求高、需虚拟化、资源占用较高</td>
<td>“Windows 中的 Linux 子系统”</td>
</tr>
</tbody>
</table>
<p><strong>选择建议</strong>：</p>
<ul>
<li>简单命令需求 → UnxUtils；</li>
<li>跨平台编译或老旧系统 → Cygwin；</li>
<li>开发、容器、完整 Linux 环境 → WSL（首选 WSL 2）。</li>
</ul>
</details>  
<script>  
	// 获取按钮和所有折叠段落  
	const toggleBtn = document.getElementById('toggleAll');  
	const collapsibles = document.querySelectorAll('.collapsible');  
	let isAllOpen = false; // 初始状态：全部展开  
	// 一键切换逻辑  
	toggleBtn.addEventListener('click', () => {  
		isAllOpen = !isAllOpen;  
		collapsibles.forEach(detail => {  
			detail.open = isAllOpen; // 控制所有details的open属性  
		});  
		// 更新按钮文字  
		toggleBtn.textContent = isAllOpen ? '一键折叠全部' : '一键展开全部';  
	});  
</script>  
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2025-11-17</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://o2ospring.github.io/20251109/" data-title="WSL 之 unix 模拟环境" data-hashtags="WSL,linux 工具/应用"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://o2ospring.github.io/20251109/" data-hashtag="WSL"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://o2ospring.github.io/20251109/" data-title="WSL 之 unix 模拟环境"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://o2ospring.github.io/20251109/" data-title="WSL 之 unix 模拟环境"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://o2ospring.github.io/20251109/" data-title="WSL 之 unix 模拟环境"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/wsl/">WSL</a>,&nbsp;<a href="/tags/linux-%E5%B7%A5%E5%85%B7/%E5%BA%94%E7%94%A8/">linux 工具/应用</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/20251108/" class="prev" rel="prev" title="linux 纯文本编辑器 nano"><i class="fas fa-angle-left fa-fw"></i>linux 纯文本编辑器 nano</a>
            <a href="/20251117/" class="next" rel="next" title="Termux 之 unix 模拟环境">Termux 之 unix 模拟环境<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.92.0">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2026</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">o2ospring</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><script type="text/javascript" src="/lib/valine/Valine.min.js"></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":100},"comment":{"valine":{"appId":"7V3yo7ajOCbagfd7KIdmkAiw-gzGzoHsz","appKey":"IpKMeGrJVzTvAAkTiXEMiElK","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-cn","pageSize":10,"placeholder":"你的评论 ...","recordIP":true,"visitor":true}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"algoliaAppID":"AU15Z1TOUX","algoliaIndex":"o2ospring_blog_index","algoliaSearchKey":"79710701e46d916e0897c7b7dfe0a497","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
